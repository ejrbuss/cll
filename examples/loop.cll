(defn loop [n]
  (let { i (ref 0) }
    (while (< @i n)
      (inc! i)
  @i)))

(println (loop 1e6))